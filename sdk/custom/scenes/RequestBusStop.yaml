conditionalEvents:
- condition: scene.slots.status == "FINAL"
  handler:
    webhookHandler: predict_number
  transitionToScene: actions.scene.END_CONVERSATION
intentEvents:
- intent: SEARCH_BY_INTERSECTION
  transitionToScene: RequestStreetNames
- intent: SEARCH_BY_POI
  transitionToScene: RequestPOI
- intent: SEARCH_BY_ROUTE_NAME
  transitionToScene: RequestBusName
- intent: SEARCH_SPECIAL_NUMBER
  transitionToScene: RequestSpecialBusNumber
onEnter:
  webhookHandler: override_bus_stop_type
onSlotUpdated:
  webhookHandler: validate_bus_stop
slots:
- commitBehavior:
    writeSessionParam: bus_stop
  defaultValue:
    sessionParam: bus_stop_from_intent
  name: bus_stop
  promptSettings:
    initialPrompt:
      staticPrompt:
        candidates:
        - promptResponse:
            firstSimple:
              variants:
              - speech: At which stop are you?
      webhookHandler: validate_bus_stop
    noMatchPrompt1:
      staticPrompt:
        candidates:
        - promptResponse:
            firstSimple:
              variants:
              - speech: I could not find that stop. Try saying "Search by intersection"
                  or "Search by points of interest" to find your stop another way.
  required: true
  type:
    name: bus_stop
