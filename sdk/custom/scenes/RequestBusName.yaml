conditionalEvents:
- condition: scene.slots.status == "FINAL"
  handler:
    webhookHandler: set_bus_num_from_name
  transitionToScene: RequestBusDirection
intentEvents:
- handler:
    staticPrompt:
      candidates:
      - promptResponse:
          firstSimple:
            variants:
            - speech: Alright! Let's search by bus ID.
  intent: SEARCH_BUS_ID
  transitionToScene: RequestBusID
- handler:
    staticPrompt:
      candidates:
      - promptResponse:
          firstSimple:
            variants:
            - speech: Ok! Let's search by bus number.
  intent: SEARCH_BY_NUMBER
  transitionToScene: RequestBusNumber
onSlotUpdated:
  webhookHandler: validate_bus_name
slots:
- commitBehavior:
    writeSessionParam: bus_name
  name: bus_name
  promptSettings:
    initialPrompt:
      staticPrompt:
        candidates:
        - promptResponse:
            firstSimple:
              variants:
              - speech: What is the route name?
    noMatchPrompt1:
      staticPrompt:
        candidates:
        - promptResponse:
            firstSimple:
              variants:
              - speech: I do not recognize that route name. If your bus has a special
                  ID like "J14", you can say "Search by ID" to find your bus. Otherwise,
                  say "Search by number".
  required: true
  type:
    name: bus_name
