conditionalEvents:
- condition: scene.slots.status == "FINAL"
  handler:
    staticPrompt:
      candidates:
      - promptResponse:
          firstSimple:
            variants:
            - speech: 'You are looking for bus number $session.params.bus_num going
                the direction $session.params.bus_dir . '
  transitionToScene: actions.scene.END_CONVERSATION
onEnter:
  staticPrompt:
    candidates:
    - promptResponse:
        firstSimple:
          variants:
          - speech: Welcome to Windy City Bus Tracker!
slots:
- commitBehavior:
    writeSessionParam: bus_num
  name: bus_num
  promptSettings:
    initialPrompt:
      staticPrompt:
        candidates:
        - promptResponse:
            firstSimple:
              variants:
              - speech: Which bus number do you need to look up?
    noInputPrompt1:
      staticPrompt:
        candidates:
        - promptResponse:
            firstSimple:
              variants:
              - speech: Sorry, but I did not get the bus number. Could you try again?
                  Say something like "201" or "147".
    noMatchPrompt1:
      staticPrompt:
        candidates:
        - promptResponse:
            firstSimple:
              variants:
              - speech: Sorry, that bus number is not valid. Please try again.
  required: true
  type:
    name: actions.type.Number
- commitBehavior:
    writeSessionParam: bus_dir
  name: bus_dir
  promptSettings:
    initialPrompt:
      webhookHandler: lookup_bus_dir
    noInputPrompt1:
      staticPrompt:
        candidates:
        - promptResponse:
            firstSimple:
              variants:
              - speech: Sorry, but I did not get the bus direction. Please try again.
                  Say something like "north" or "westbound".
    noMatchPrompt1:
      staticPrompt:
        candidates:
        - promptResponse:
            firstSimple:
              variants:
              - speech: Sorry, that bus direction is not valid. Please try again.
  required: true
  type:
    name: cardinal_direction
